!function(e,t){"function"==typeof define&&define.amd?define(["FaviconNotification"],t):"object"==typeof exports?module.exports=t():e.FaviconNotification=t()}(this,function(){if("undefined"==typeof document)return void console.log("This script only run in browsers.");var e,t,n={url:"/favicon.ico",color:"#eb361e"},i=function(e){var n=document.getElementsByTagName("head")[0];t=document.createElement("link"),t.type="image/x-icon",t.rel="icon",t.href=e;for(var i=document.getElementsByTagName("link"),o=0,c=i.length;c>o;o++){var r="undefined"!=typeof i[o];r&&(i[o].getAttribute("rel")||"").match(/\bicon\b/)&&n.removeChild(i[o])}n.appendChild(t)},o=function(e,t,n){var i=document.createElement("img");i.src=e,i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height;var o=e.getContext("2d");o.clearRect(0,0,i.width,i.height),o.drawImage(i,0,0);var c=i.width-i.width/4,r=i.height-i.height/4,a=i.width/4;o.fillStyle=t,o.beginPath(),o.arc(c,r,a,0,2*Math.PI,!1),o.closePath(),o.fill(),n(null,o.canvas.toDataURL())}},c={init:function(t){t&&Object.keys(t).map(function(e){n[e]=t[e]}),o(n.url,n.color,function(t,n){e=n}),i(n.url)},add:function(){e||t?t.href=e:o(n.url,n.color,function(t,n){e=n,i(n)})},remove:function(){t.href=n.url}};return c});