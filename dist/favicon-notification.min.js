!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.FaviconNotification=t()}(this,function(){if("undefined"==typeof document)return void console.log("This script only run in browsers.");var e,t,n={},o={url:"/favicon.ico",color:"#eb361e",lineColor:"#ffffff",bottom:0,right:0},i=function(e){var n=document.getElementsByTagName("head")[0];t=document.createElement("link"),t.type="image/x-icon",t.rel="icon",t.href=e;for(var o=document.getElementsByTagName("link"),i=0,r=o.length;i<r;i++){void 0!==o[i]&&(o[i].getAttribute("rel")||"").match(/\bicon\b/)&&n.removeChild(o[i])}n.appendChild(t)},r=function(e){var t=document.createElement("img");t.src=n.url,t.onload=function(){var o=document.createElement("canvas");o.width=t.width,o.height=t.height;var i=o.getContext("2d");i.clearRect(0,0,t.width,t.height),i.drawImage(t,0,0);var r=t.width-t.width/4.5-2+n.right,c=t.height-t.height/4.5-2+n.bottom,a=t.width/4.5;i.fillStyle=n.color,i.strokeStyle=n.lineColor,i.lineWidth=2,i.beginPath(),i.arc(r,c,a,0,2*Math.PI,!1),i.closePath(),i.fill(),i.stroke(),e(null,i.canvas.toDataURL())}},c=function(e){if(!e)return void(n=o);n={};for(var t in o)n[t]=e.hasOwnProperty(t)?e[t]:o[t]};return{init:function(t){c(t),r(function(t,n){e=n}),i(n.url)},add:function(){e||t?t.href=e:(c(),r(function(t,n){e=n,i(n)}))},remove:function(){t.href=n.url}}});